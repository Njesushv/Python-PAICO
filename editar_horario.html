<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Editar Horario</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    body {
      background-color: #f8f9fa;
      font-family: "Segoe UI", sans-serif;
      margin: 0;
    }

    .contenedor-grande {
      max-width: 760px;
      margin: auto;
    }

    /* CARD PRINCIPAL */
    .card {
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 4px 18px rgba(0,0,0,.1);
      animation: fadeIn .35s ease;
    }

    .card-header {
      background-color: #1d3557;
      color: #ffffff;
      font-weight: 600;
      padding: 16px 20px;
    }

    .btn {
      border-radius: 20px;
      font-weight: 500;
      padding: 6px 14px !important;
      font-size: 13px !important;
    }

    .btn-primary {
      background-color: #1d3557;
      border-color: #1d3557;
    }

    .btn-primary:hover {
      background-color: #12263f;
      border-color: #12263f;
    }

    .btn-light {
      border-radius: 20px;
    }

    .form-control,
    .form-select {
      border-radius: 10px;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to   { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

<div class="container contenedor-grande mt-4">
  <div class="card">

    <!-- HEADER -->
    <div class="card-header d-flex justify-content-between align-items-center">
      <h5 class="mb-0">
        <i class="bi bi-pencil-square"></i> Editar Horario
      </h5>
      <a class="btn btn-light btn-sm" href="{{ url_for('horarios') }}">
        <i class="bi bi-arrow-left-circle"></i> Volver
      </a>
    </div>

    <!-- BODY -->
    <div class="card-body">
      <form method="POST" class="row g-3">

        <div class="col-md-6">
          <label class="form-label">Turno</label>
          <select class="form-select" name="nombre_horario" required>
            <option value="">-- Seleccione el turno --</option>
            <option value="Turno Mañana"  {% if horario and horario.nombre_horario == 'Turno Mañana' %}selected{% endif %}>Turno Mañana</option>
            <option value="Turno Tarde"   {% if horario and horario.nombre_horario == 'Turno Tarde' %}selected{% endif %}>Turno Tarde</option>
            <option value="Turno Noche"   {% if horario and horario.nombre_horario == 'Turno Noche' %}selected{% endif %}>Turno Noche</option>
          </select>
        </div>

        <div class="col-md-6">
          <label class="form-label">Días</label>
          {% set dias_seleccionados = (horario.dias or '').split('-') %}
          <div class="d-flex flex-wrap gap-2">
            {% for d in ['LU','MA','MI','JU','VI','SA','DO'] %}
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="dias" value="{{ d }}"
                     {% if d in dias_seleccionados %}checked{% endif %}>
              <label class="form-check-label">{{ d }}</label>
            </div>
            {% endfor %}
          </div>
        </div>

        <div class="col-md-3">
          <label class="form-label">Hora inicio</label>
          <input type="time" name="hora_inicio" class="form-control"
                 value="{{ horario.hora_inicio or '' }}">
        </div>

        <div class="col-md-3">
          <label class="form-label">Hora fin</label>
          <input type="time" name="hora_fin" class="form-control"
                 value="{{ horario.hora_fin or '' }}">
        </div>

        <div class="col-md-3">
          <label class="form-label">Tolerancia inicio (min)</label>
          <input type="number" name="tolerancia_inicio" class="form-control"
                 value="{{ horario.tolerancia_inicio or 0 }}">
        </div>

        <div class="col-md-3">
          <label class="form-label">Entrada Temprana (min)</label>
          <input type="number" name="entrada_temprana" class="form-control"
                 value="{{ horario.entrada_temprana or 0 }}">
        </div>

        <div class="col-md-3">
          <label class="form-label">Salida Temprana (min)</label>
          <input type="number" name="salida_temprana" class="form-control"
                 value="{{ horario.salida_temprana or 0 }}">
        </div>

        <div class="col-12">
          <label class="form-label">Nota</label>
          <textarea name="nota" class="form-control" rows="2">{{ horario.nota or '' }}</textarea>
        </div>

        <div class="col-12 d-flex justify-content-end gap-2 mt-3">
          <button class="btn btn-primary">
            <i class="bi bi-save2"></i> Guardar
          </button>
          <a class="btn btn-secondary" href="{{ url_for('horarios') }}">Cancelar</a>
        </div>

      </form>
    </div>

  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
